From 8d2d8f158e50d4e353cd5f0cd2535180e76af2eb Mon Sep 17 00:00:00 2001
From: caiwc <caiwc@sinux.com.cn>
Date: Thu, 24 Nov 2022 23:25:26 +0800
Subject: [PATCH 5/5] add timezone feature support

Signed-off-by: caiwc <caiwc@sinux.com.cn>
---
 tests/auto/corelib/tools/tools.pro                          | 5 +----
 tests/auto/network/access/access.pro                        | 2 +-
 tests/auto/network/kernel/kernel.pro                        | 6 +-----
 tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp | 4 ++--
 tests/benchmarks/corelib/tools/tools.pro                    | 3 ---
 5 files changed, 5 insertions(+), 15 deletions(-)

diff --git a/tests/auto/corelib/tools/tools.pro b/tests/auto/corelib/tools/tools.pro
index 9ae8c8732c..b9b499909e 100644
--- a/tests/auto/corelib/tools/tools.pro
+++ b/tests/auto/corelib/tools/tools.pro
@@ -68,7 +68,4 @@ SUBDIRS=\
     qvector_strictiterators \
     qversionnumber
 
-darwin: SUBDIRS += qmacautoreleasepool
-
-#TODO Add
-SUBDIRS -= qtimezone
\ No newline at end of file
+darwin: SUBDIRS += qmacautoreleasepool
\ No newline at end of file
diff --git a/tests/auto/network/access/access.pro b/tests/auto/network/access/access.pro
index 927493a34b..ecf4de171e 100644
--- a/tests/auto/network/access/access.pro
+++ b/tests/auto/network/access/access.pro
@@ -24,6 +24,6 @@ SUBDIRS=\
           http2 \
           hsts
 
-#TODO remove
+#TODO support http
 SUBDIRS -= qnetworkreply \
            spdy
\ No newline at end of file
diff --git a/tests/auto/network/kernel/kernel.pro b/tests/auto/network/kernel/kernel.pro
index a41b9a9d2d..f454e4efd9 100644
--- a/tests/auto/network/kernel/kernel.pro
+++ b/tests/auto/network/kernel/kernel.pro
@@ -20,8 +20,4 @@ osx: SUBDIRS -= \ # QTBUG-41847
 
 !qtConfig(private_tests): SUBDIRS -= \
     qauthenticator \
-    qhostinfo \
-
-
-#TODO remove
-SUBDIRS -= qhostaddress
\ No newline at end of file
+    qhostinfo \
\ No newline at end of file
diff --git a/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp b/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
index 224e4d61a9..12b0fa4f4c 100644
--- a/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
+++ b/tests/auto/network/kernel/qhostaddress/tst_qhostaddress.cpp
@@ -43,7 +43,7 @@
 #  endif
 #endif
 
-#ifdef Q_OS_ANDROID
+#if defined(Q_OS_ANDROID) || defined(Q_OS_OPENHARMONY)
 #  include <netinet/in.h>
 #endif
 
@@ -382,7 +382,7 @@ void tst_QHostAddress::assignment()
     QCOMPARE(address, QHostAddress("::1"));
 
     // WinRT does not support sockaddr_in
-#ifndef Q_OS_WINRT
+#if !defined(Q_OS_WINRT)
     QHostAddress addr("4.2.2.1");
     sockaddr_in sockAddr;
     sockAddr.sin_family = AF_INET;
diff --git a/tests/benchmarks/corelib/tools/tools.pro b/tests/benchmarks/corelib/tools/tools.pro
index bb12bbd14e..ca9c0a6f89 100644
--- a/tests/benchmarks/corelib/tools/tools.pro
+++ b/tests/benchmarks/corelib/tools/tools.pro
@@ -20,6 +20,3 @@ SUBDIRS = \
         qalgorithms
 
 !*g++*: SUBDIRS -= qstring
-#TODO reset
-SUBDIRS -= qdatetime \
-	 qtimezone
-- 
2.25.1

